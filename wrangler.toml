name = "companion-accounts"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[[d1_databases]]
binding = "DB"
database_name = "companion-accounts-db"
database_id = "2d2a3ade-344e-499f-97bd-9894753595ae"

[triggers]
crons = ["0 */6 * * *"]

[vars]
# Character worker URLs for activation callbacks
SADIE_URL = "https://companion-sadie.mrmicaiah.workers.dev"
COLE_URL = "https://companion-cole.mrmicaiah.workers.dev"
NORA_URL = "https://companion-nora.mrmicaiah.workers.dev"
ELLIOTT_URL = "https://companion-elliott.mrmicaiah.workers.dev"
CLARA_URL = "https://companion-clara.mrmicaiah.workers.dev"
SEAN_URL = "https://companion-sean.mrmicaiah.workers.dev"

# Secrets (set via wrangler CLI):
# - STRIPE_SECRET_KEY
# - STRIPE_WEBHOOK_SECRET  
# - RESEND_API_KEY
# - MAGIC_LINK_SECRET
# - INTERNAL_API_KEY
# - COLE_BOT_TOKEN
# - NORA_BOT_TOKEN
# - ELLIOTT_BOT_TOKEN
# - CLARA_BOT_TOKEN
# - SEAN_BOT_TOKEN
# - SADIE_BOT_TOKEN
