name = "companion-accounts"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[[d1_databases]]
binding = "DB"
database_name = "companion-accounts-db"
database_id = "2d2a3ade-344e-499f-97bd-9894753595ae"

[vars]
# Character worker URLs for activation callbacks
SADIE_URL = "https://companion-sadie.micaiah-tasks.workers.dev"
COLE_URL = "https://companion-cole.micaiah-tasks.workers.dev"
NORA_URL = "https://companion-nora.micaiah-tasks.workers.dev"
ELLIOTT_URL = "https://companion-elliott.micaiah-tasks.workers.dev"
CLARA_URL = "https://companion-clara.micaiah-tasks.workers.dev"
SEAN_URL = "https://companion-sean.micaiah-tasks.workers.dev"

# Secrets (set via wrangler CLI):
# - STRIPE_SECRET_KEY
# - STRIPE_WEBHOOK_SECRET  
# - RESEND_API_KEY
# - MAGIC_LINK_SECRET
# - INTERNAL_API_KEY
